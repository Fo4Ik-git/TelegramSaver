<!--<h1>Telegram login</h1>
<h2>Phone number</h2>

<input #phoneNumber type="tel">
<button (click)="onSendPhoneNumber(phoneNumber.value); phoneNumber.value = ''">Send Phone number</button>

<h2>Telegram code</h2>
<input #telegramCode type="text">
<button (click)="onSignIn(telegramCode.value); telegramCode.value = ''">Send code</button>-->


<div class="main">
  @if (!isMobile) {
    <div class="text-center container mt-4">
      <qrcode [qrdata]='qrCodeLink'
              [width]="280"
              [elementType]="'canvas'"
              [margin]="2"
              [imageSrc]="'./assets/img/telegram-icon.svg'"
              [imageHeight]="54"
              [imageWidth]="54"
              [scale]="128"></qrcode>
      <h1>Login in to Telegram by QR Code</h1>
      <div class="text-start align-items-center justify-content-center d-flex">
        <ol class="list-group list-group-numbered">
          <li class="list-group-item">Open Telegram on your phone</li>
          <li class="list-group-item">Go to Settings &gt; Devices &gt; Link Desktop Device</li>
          <li class="list-group-item">Point your phone at this screen to confirm login</li>
        </ol>
      </div>

      <div class="text-center mt-4">
        <button type="button" class="btn" (click)="isMobile = true">LOG IN BY PHONE NUMBER</button>
      </div>
    </div>
  } @else {
    <div class="text-center container mt-4 align-text-center justify-content-center">
      <img src="./assets/img/telegram-icon.svg" alt="telegram logo" class="img-fluid" width="160">
      <h1>Telegram</h1>
      <p class="note w-300">Please confirm your country code
        and enter your phone number.</p>

      <div class="mb-2 input-countries d-flex align-items-center justify-content-start container ">
        <p-dropdown [options]="countries" [(ngModel)]="selectedCountry" optionLabel="name" [showClear]="false"
                    placeholder="Select a Country">
          <ng-template pTemplate="selectedItem">
            <div class="d-flex justify-content-between align-items-center  mx-2 my-2" *ngIf="selectedCountry">
              <img [src]="'https://flagcdn.com/32x24/' + selectedCountry.code.toLowerCase() + '.png'"
                   [class]="'flag flag-' + 'AD'" style="width: 18px"/>
              <div>{{ selectedCountry.name }}</div>
              <div class="mr-2">{{ selectedCountry.phone_code }}</div>
            </div>
          </ng-template>
          <ng-template let-country pTemplate="item">
            <div class="d-flex justify-content-between align-items-center mx-2 my-2">
              <img [src]="'https://flagcdn.com/32x24/' + country.code.toLowerCase() + '.png'"
                   [class]="'ml-2 flag flag-' + 'AD'" style="width: 18px"/>
              <div>{{ country.name }}</div>
              <div class="mr-2">{{ country.phone_code }}</div>
            </div>
          </ng-template>
        </p-dropdown>
      </div>
      <br>
      <input type="text" pInputText [(ngModel)]="selectedCountry.user_phone"
             placeholder="Phone number" *ngIf="!showTelegramCode">

      <div *ngIf="showTelegramCode">
        <input type="text" pInputText #telegramCode [(ngModel)]="telegramCodeValue" placeholder="Enter code from Telegram"
       (ngModelChange)="telegramCodeValue.length == 5 ? onSignIn(telegramCodeValue) : null">
      </div>

      <br>

      <button type="button" class="btn mt-3 next" *ngIf="!showTelegramCode"
              (click)="onSendPhoneNumber(selectedCountry.user_phone);">Send Phone number
      </button>


      <div class="text-center mt-4">
        <button type="button" class="btn" (click)="isMobile = false">LOG IN BY QR CODE</button>
      </div>
    </div>
  }


  <p-toast [life]="5000"></p-toast>
</div>
